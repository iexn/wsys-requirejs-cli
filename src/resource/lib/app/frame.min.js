function post(i,t,e,o,a){o=void 0==o||o,o||e!==!1||(o=!1),$.post(i,t,function(i){return"object"!=typeof i?(xalert("服务器繁忙，请稍后再试。"),void(a&&a())):0==i.errno?(xalert(i.message,!0,o),void(e&&e(i))):1e3==i.errno?void location.reload():(xalert(i.message,!1,o),void(a&&a()))}).fail(function(){alert("服务器繁忙，请稍后再试"),a&&a()})}function xalert(i,t,e){if(e){if(clearPageTip(),t){var o='            <div id="pageTip" class="modal fade modal-success" tabindex="-1" role="dialog" aria-hidden="true" style="display: block; padding-right: 17px;">                <div class="modal-dialog we7-modal-dialog">                    <div class="modal-content">                        <div class="modal-body">                            <div class="text-center">                                <i class="text-success wi wi-success-sign"></i>'+i+'                                     </div>                                      <div class="clearfix"></div>                        </div>                      </div>                </div>            </div>        ';$("body").append(o)}else{var o='            <div id="pageTip" class="modal fade modal-success" tabindex="-1" role="dialog" aria-hidden="true" style="display: block; padding-right: 17px;">                <div class="modal-dialog we7-modal-dialog">                    <div class="modal-content" style="background-color:#a94442;border-color:#a94442">                        <div class="modal-body">                            <div class="text-center">                                <i class="text-error wi wi-error-sign"></i>'+i+'                                     </div>                                      <div class="clearfix"></div>                        </div>                      </div>                </div>            </div>        ';$("body").append(o)}setTimeout(function(){$("#pageTip").addClass("in")},1),clearPageTip(2e3)}}function clearPageTip(i){return clearTimeout(frame_clearTimeout),i=i||0,0==i?($("#pageTip").remove(),!0):void(frame_clearTimeout=setTimeout(function(){$("#pageTip").remove()},i+300))}function isJsonString(i){try{JSON.parse(i)}catch(i){return!1}return!0}function RGBToHex(i){for(var t=/[0-9]{0,3}/g,e=i.match(t),o="#",a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],n=0;n<e.length;n++){for(var r=null,s=e[n],c=s,l=[];s>16;)r=s%16,s=s/16>>0,l.push(a[r]);l.push(a[s]),c<16&&""!=c&&l.push(0),o+=l.reverse().join("")}return o}var frame_clearTimeout=null;$(function(){$(".ajax-post").on("click",function(){if($(this).hasClass("confirm")&&!confirm($(this).attr("data-confirm")||"继续执行当前操作吗？"))return!1;var i=$(this).prop("href")||$(this).attr("url"),t=$(this).attr("data-form");if(""!=t&&void 0!=t)var e=$(t).serialize();else var e=$(this).data();return void 0!=i&&(post(i,e,function(){setTimeout(function(){location.reload()},2e3)}),!1)}),$(".ajax-form").on("submit",function(){var i=this,t='<i class="fa fa-spinner fa-spin"></i> ',e=t.length;if($(i).find("[type=submit]").prop("disabled",!0).each(function(i,e){$(this).html(t+$(this).html())}),$(i).hasClass("confirm")&&!confirm($(i).attr("data-confirm")||"继续执行当前操作吗？"))return $(i).find("[type=submit]").prop("disabled",!1).each(function(i,t){$(this).html($(this).html().slice(0,e))}),!1;var o=$(i).prop("action"),a=$(i).serialize(),n=$(i).attr("data-tolink");return void 0!=o&&(post(o,a,function(){setTimeout(function(){""==n||void 0==n?location.reload():location.href=n},2e3)},!0,function(){$(i).find("[type=submit]").prop("disabled",!1).each(function(i,t){$(this).html($(this).html().slice(e))})}),!1)})}),$(function(){$(".check-all-control").on("click",function(){for(var i=$(".check-all"),t=i.length,e=0;e<t;e++)if(!$(i[e]).prop("checked"))return void i.prop("checked",!0);i.prop("checked",!1)})}),$(function(){$("#form_search").on("submit",function(){if("get"!=$(this).prop("method"))return!0;var i=window.location.protocol,t=window.location.host,e=window.location.pathname,o=window.location.search,a=window.location.hash,n=$(this).serializeArray(),r={};o.substr(1).split("&").forEach(function(i){i=i.split("="),r[i[0]]=i[1]}),n.forEach(function(i){r[i.name]=i.value}),o=[];for(key in r)o.push(key+"="+r[key]);o="?"+o.join("&");var s=i+"//"+t+e+o+a;return location.href=s,!1})}),$(function(){function i(t,e){var o=t%60;$(e+" .viewtime-second").text(o);var a=(t-o)/60%60;$(e+" .viewtime-minute").text(a);var n=(t-o-60*a)/3600%24;$(e+" .viewtime-hour").text(n);var r=(t-o-60*a-60*n*60)/86400;$(e+" .viewtime-day").text(r),t<=0||(t--,setTimeout(function(){i(t,e)},1e3))}window.changeViewTime=i}),$(function(){function i(i,t,e){wx.ready(function(){var o=new Audio;o.src=i,$(t).hasClass("off")||(o.volume=.7,o.loop=!0,o.play()),$(t).on("click",function(){$(t).hasClass("off")?(e&&e(!0),$(t).removeClass("off"),o&&o.play()):(e&&e(!1),$(t).addClass("off"),o&&o.pause())})})}window.autoplay=i}),$(function(){function i(i,e){var o=new Image;o.src=$(i).prop(e||"src"),o.onload=function(){$(i).prop("src",t(this))}}function t(i){var t=document.createElement("canvas");t.width=i.width,t.height=i.height;var e=t.getContext("2d");e.drawImage(i,0,0,i.width,i.height);var o=t.toDataURL("image/png");return o}window.img2base64=i}),$(function(){$(".limithigh").each(function(i,t){var e=this;if($(this).height()<=180)return!1;$(this).css({height:120,overflow:"hidden",position:"relative"});var o=$("<div>").css({position:"absolute",bottom:"0",left:"0","z-index":"999",width:"100%",height:"80","text-align":"center","background-image":"linear-gradient(-180deg,rgba(255,255,255,0) 0%,#fff 70%)"}),a=$("<a>").prop("href","javascript:;").css({display:"inline-block","margin-top":"60px",color:"#ca0c16","font-size":"14px","text-decoration":"underline"}).text("点击显示全部").on("click",function(){$(e).css("height","auto"),o.hide()});o.append(a),$(this).append(o)})}),$(function(){$(".outer-show").on("click",function(){$("#"+$(this).data("outerid")).addClass("show")}),$(".outer-close").on("click",function(){$(this).parents(".outer").removeClass("show")})}),require(["jquery"],function(i){function t(){i("#tabtop").append('<li role="presentation"><a href="#extend" aria-controls="extend" role="tab" data-toggle="tab">扩展设置</a></li>'),i("#tabbody").append('<div role="tabpanel" class="tab-pane" id="extend">            <div class="form-group">                <label class="col-md-2 control-label text-right">页底标注文字：</label>                <div class="col-md-10">                    <input type="text" class="form-control" name="support_name" value="'+n+'">                    <p class="help-block">                        1. 实际文字显示建议15个字以内；<br>                        2. 添加超链接请输入英文符号： [link:链接文字](链接地址)，如： [link:百度一下，你就知道](https://www.baidu.com)； <br>                        3. 添加电话拨打功能请输入英文符号： [tel:电话文字](电话号)，如： [tel:中国移动](10086) <br>                        4. 文字显示请勿连续显示英文符号 []() 以及括号内的内容，它会被视为上述规则被直接替换 <br>                    </p>                </div>            </div>        </div>        ')}var e=i("#tabtop li").eq(1),o=i("#tabtop li").eq(0),a=null,n=i("#tabtop").attr("data-support-name");e.on("dblclick",function(){o.on("mousedown",function(){clearTimeout(a),a=setTimeout(function(){t()},1e3)}),o.on("mouseup",function(){clearTimeout(a)}),a=setTimeout(function(){o.off("dblclick"),o.off("mousedown"),o.off("mouseup"),clearTimeout(a)},600)}),t()});